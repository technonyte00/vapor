<!DOCTYPE html>
<!--
!
! Oh Hi!
!
! This is the code for the p.r.0.x.y embed!
! Nothing interesting here...
!
-->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VAPOR Embed</title>
    <style>
      body { margin: 0; height: 100vh; overflow: hidden; }
      iframe { width: 100%; height: 100%; border: none; }
    </style>
  </head>
  <body>
    <script src="vpr/vpr.bundle.js"></script>
    <script src="vpr/vpr.config.js"></script>
    <script type="module">
      import { getUV } from "/scripts/vaprox.mjs";

      async function emb() {
        const hash = window.location.hash.substring(1);
        if (hash) {
          try {
            const result = await getUV(hash);
            const iframe = document.createElement("iframe");
            iframe.src = result;
            document.body.appendChild(iframe);
          } catch (error) {
            console.error("error: ", error);
            alert(error);
          }
        } else {
          alert("No hash found.");
        }
      }

      emb();
    </script>
  </body>
</html>
